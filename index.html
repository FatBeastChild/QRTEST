<!DOCTYPE html>
<html>
<head><title>Send GPS Location</title></head>
<body>
  <h2>Sending your location...</h2>
  <script>
    navigator.geolocation.getCurrentPosition(
      position => {
        fetch("https://prod-16.australiasoutheast.logic.azure.com:443/workflows/c52a1dc477c94cc99cfdcac343120a26/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=yQuVbGx7fxGOnM-LZoQlhvsfcSM_ZdH74H1ZiZEryx0", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            latitude: position.coords.latitude,
            longitude: position.coords.longitude
          })
        }).then(() => {
          document.body.innerHTML = "<h2>Location sent!</h2>";
        }).catch(err => {
          console.error(err);
          document.body.innerHTML = "<h2>Failed to send location.</h2>";
        });
      },
      error => {
        console.error(error);
        document.body.innerHTML = "<h2>GPS Permission denied.</h2>";
      }
    );
  </script>
</body>
</html>
